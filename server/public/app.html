<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Skill Routine • App</title>

  <link rel="stylesheet" href="/assets/css/global.css">
  <link rel="stylesheet" href="/assets/css/dashboard.css">
</head>

<body>
  <div class="row topbar">
    <div>
      <h1>Skill Routine</h1>
      <div class="muted">
        Gamificado • XP por atividade • níveis por skill • quests diárias • sua conta salva no servidor local.
      </div>
    </div>
    <div class="row">
      <span class="pill" id="who"></span>
      <button class="danger" id="btnLogout">Sair</button>
    </div>
  </div>

  <div class="grid" style="margin-top:14px;">
    <div class="card">
      <h2 style="margin:0 0 8px;">Registrar atividade</h2>

      <div class="row">
        <div>
          <label>Atividade</label><br/>
          <select id="activity"></select>
        </div>
        <div>
          <label>Minutos</label><br/>
          <input id="minutes" type="number" min="1" value="30" />
        </div>
        <div>
          <label>Dificuldade</label><br/>
          <select id="difficulty">
            <option value="facil">Fácil</option>
            <option value="medio">Médio</option>
            <option value="dificil">Difícil</option>
          </select>
        </div>
        <div>
          <label>Sem distração?</label><br/>
          <select id="nodistraction">
            <option value="nao">Não</option>
            <option value="sim">Sim</option>
          </select>
        </div>
        <div class="mt18">
          <button class="primary" id="btnComplete">Concluir (+XP)</button>
        </div>
      </div>

      <div class="hr"></div>

      <div class="row between">
        <div>
          <strong>Resumo do dia</strong>
          <div class="muted" id="dayInfo"></div>
        </div>
        <div class="row">
          <button id="btnNewQuests">Gerar quests do dia</button>
          <button class="danger" id="btnReset">Resetar tudo</button>
        </div>
      </div>

      <div class="hr"></div>

      <h3 style="margin:0 0 8px;">Quests diárias</h3>
      <div class="quests" id="quests"></div>

      <div class="hr"></div>

      <h3 style="margin:0 0 8px;">Histórico</h3>
      <div class="log" id="log"></div>
    </div>

    <div class="card">
      <h2 style="margin:0 0 8px;">Skills</h2>
      <canvas id="radar" width="360" height="360" style="width:100%; max-width:420px; display:block; margin: 6px auto 12px;"></canvas>
      <div class="muted center" style="margin-bottom:10px;">
        Radar (normalizado pelo nível mais alto)
      </div>
      <div class="skills" id="skills"></div>
    </div>
  </div>

  <!-- MODAL XP -->
  <div id="xpModal" class="modal hidden">
    <div class="modal-box">
      <h3>✨ Atividade concluída</h3>
      <p id="xpText"></p>
      <button id="xpOk" class="primary">OK</button>
    </div>
  </div>

  <script type="module" src="/assets/js/dashboard.js"></script>
</body>
</html>
